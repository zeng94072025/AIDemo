<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¡è‰²é¸æ“‡åŠŸèƒ½æ¼”ç¤º</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .demo-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .demo-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .demo-header h1 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .demo-header p {
            color: #666;
            font-size: 16px;
        }
        
        .demo-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background: #f8f9fa;
        }
        
        .demo-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #333;
        }
        
        .demo-content {
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }
        
        .demo-canvas-container {
            flex: 1;
            text-align: center;
        }
        
        .demo-canvas {
            border: 2px solid #ccc;
            border-radius: 8px;
            background: white;
            max-width: 100%;
        }
        
        .demo-controls {
            flex: 1;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .demo-info {
            margin: 15px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .info-item {
            margin: 5px 0;
            display: flex;
            justify-content: space-between;
        }
        
        .info-label {
            font-weight: 600;
            color: #555;
        }
        
        .info-value {
            color: #333;
        }
        
        .demo-instructions {
            margin-top: 20px;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 6px;
            border-left: 4px solid #2196f3;
        }
        
        .demo-instructions h4 {
            margin: 0 0 10px 0;
            color: #1976d2;
        }
        
        .demo-instructions ul {
            margin: 0;
            padding-left: 20px;
        }
        
        .demo-instructions li {
            margin: 5px 0;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-header">
            <h1>ğŸ¨ é¡è‰²é¸æ“‡åŠŸèƒ½æ¼”ç¤º</h1>
            <p>é«”é©—æ–°å¢çš„è±å¯Œé¡è‰²é¸æ“‡åŠŸèƒ½ï¼ŒåŒ…æ‹¬é è¨­é¡è‰²å’Œæ¼¸è®Šè‰²é¸æ“‡</p>
        </div>
        
        <div class="demo-section">
            <div class="demo-title">ç¹ªè£½æ¸¬è©¦å€åŸŸ</div>
            <div class="demo-content">
                <div class="demo-canvas-container">
                    <canvas id="demoCanvas" class="demo-canvas" width="400" height="300"></canvas>
                    <p style="margin-top: 10px; color: #666; font-size: 14px;">
                        åœ¨ç•«å¸ƒä¸Šç¹ªè£½ä¾†æ¸¬è©¦é¡è‰²æ•ˆæœ
                    </p>
                </div>
                
                <div class="demo-controls">
                    <div class="demo-info">
                        <div class="info-item">
                            <span class="info-label">ç•¶å‰é¡è‰²:</span>
                            <span class="info-value" id="currentColor">#ff0000</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">ç•¶å‰æ¼¸è®Š:</span>
                            <span class="info-value" id="currentGradient">ç„¡</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">ç•«ç­†å¤§å°:</span>
                            <span class="info-value" id="currentSize">5px</span>
                        </div>
                    </div>
                    
                    <div class="tool-group">
                        <h3>é¡è‰²è¨­ç½®</h3>
                        <div class="color-controls">
                            <div class="color-picker">
                                <label>ä¸»è‰²èª¿:</label>
                                <input type="color" id="drawingColor" value="#ff0000">
                            </div>
                            
                            <!-- é¢„è®¾é¢œè‰²é€‰æ‹© -->
                            <div class="preset-colors">
                                <label>å¿«é€Ÿé¸æ“‡:</label>
                                <div class="color-buttons">
                                    <button class="color-btn active" data-color="#ff0000" style="background-color: #ff0000;" title="ç´…è‰²"></button>
                                    <button class="color-btn" data-color="#ff6b35" style="background-color: #ff6b35;" title="æ©™è‰²"></button>
                                    <button class="color-btn" data-color="#ffd23f" style="background-color: #ffd23f;" title="é»ƒè‰²"></button>
                                    <button class="color-btn" data-color="#06ffa5" style="background-color: #06ffa5;" title="ç¶ è‰²"></button>
                                    <button class="color-btn" data-color="#00d4ff" style="background-color: #00d4ff;" title="è—è‰²"></button>
                                    <button class="color-btn" data-color="#a855f7" style="background-color: #a855f7;" title="ç´«è‰²"></button>
                                    <button class="color-btn" data-color="#ff69b4" style="background-color: #ff69b4;" title="ç²‰è‰²"></button>
                                    <button class="color-btn" data-color="#8b4513" style="background-color: #8b4513;" title="æ£•è‰²"></button>
                                    <button class="color-btn" data-color="#ffffff" style="background-color: #ffffff; border: 1px solid #ccc;" title="ç™½è‰²"></button>
                                    <button class="color-btn" data-color="#000000" style="background-color: #000000;" title="é»‘è‰²"></button>
                                    <button class="color-btn" data-color="#ff6b6b" style="background-color: #ff6b6b;" title="çŠç‘šç´…"></button>
                                    <button class="color-btn" data-color="#4ecdc4" style="background-color: #4ecdc4;" title="é’ç¶ "></button>
                                    <button class="color-btn" data-color="#45b7d1" style="background-color: #45b7d1;" title="å¤©è—"></button>
                                    <button class="color-btn" data-color="#96ceb4" style="background-color: #96ceb4;" title="è–„è·ç¶ "></button>
                                    <button class="color-btn" data-color="#feca57" style="background-color: #feca57;" title="é‡‘é»ƒ"></button>
                                    <button class="color-btn" data-color="#ff9ff3" style="background-color: #ff9ff3;" title="ç²‰ç´«"></button>
                                </div>
                            </div>
                            
                            <!-- æ¸å˜è‰²é€‰æ‹© -->
                            <div class="gradient-colors">
                                <label>æ¼¸è®Šè‰²å½©:</label>
                                <div class="gradient-buttons">
                                    <button class="gradient-btn" data-gradient="sunset" style="background: linear-gradient(45deg, #ff6b6b, #feca57);" title="æ—¥è½"></button>
                                    <button class="gradient-btn" data-gradient="ocean" style="background: linear-gradient(45deg, #4ecdc4, #45b7d1);" title="æµ·æ´‹"></button>
                                    <button class="gradient-btn" data-gradient="forest" style="background: linear-gradient(45deg, #96ceb4, #06ffa5);" title="æ£®æ—"></button>
                                    <button class="gradient-btn" data-gradient="sunrise" style="background: linear-gradient(45deg, #ff9ff3, #ff6b35);" title="æ—¥å‡º"></button>
                                    <button class="gradient-btn" data-gradient="aurora" style="background: linear-gradient(45deg, #a855f7, #00d4ff);" title="æ¥µå…‰"></button>
                                    <button class="gradient-btn" data-gradient="rainbow" style="background: linear-gradient(45deg, #ff0000, #ff8000, #ffff00, #00ff00, #0080ff, #8000ff);" title="å½©è™¹"></button>
                                </div>
                            </div>
                            
                            <div class="size-control">
                                <label>ç•«ç­†å¤§å°: <span id="brushSizeValue">5px</span></label>
                                <input type="range" id="brushSize" min="1" max="50" value="5">
                            </div>
                        </div>
                    </div>
                    
                    <div class="demo-instructions">
                        <h4>ä½¿ç”¨èªªæ˜</h4>
                        <ul>
                            <li>é»æ“Šé è¨­é¡è‰²æŒ‰éˆ•å¿«é€Ÿé¸æ“‡é¡è‰²</li>
                            <li>é»æ“Šæ¼¸è®Šè‰²æŒ‰éˆ•æ‡‰ç”¨æ¼¸è®Šæ•ˆæœ</li>
                            <li>ä½¿ç”¨é¡è‰²é¸æ“‡å™¨ç²¾ç¢ºé¸æ“‡é¡è‰²</li>
                            <li>èª¿æ•´ç•«ç­†å¤§å°æ§åˆ¶ç¹ªè£½æ•ˆæœ</li>
                            <li>åœ¨ç•«å¸ƒä¸Šç¹ªè£½ä¾†æ¸¬è©¦é¡è‰²æ•ˆæœ</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="demo-section">
            <div class="demo-title">åŠŸèƒ½ç‰¹é»</div>
            <div class="demo-content">
                <div style="flex: 1;">
                    <h4>ğŸ¨ é è¨­é¡è‰²é¸æ“‡ (16ç¨®)</h4>
                    <ul>
                        <li><strong>åŸºæœ¬é¡è‰²:</strong> ç´…ã€æ©™ã€é»ƒã€ç¶ ã€è—ã€ç´«ã€ç²‰ã€æ£•</li>
                        <li><strong>ç‰¹æ®Šé¡è‰²:</strong> ç™½ã€é»‘ã€çŠç‘šç´…ã€é’ç¶ ã€å¤©è—ã€è–„è·ç¶ ã€é‡‘é»ƒã€ç²‰ç´«</li>
                    </ul>
                    
                    <h4>ğŸŒˆ æ¼¸è®Šè‰²é¸æ“‡ (6ç¨®)</h4>
                    <ul>
                        <li><strong>æ—¥è½:</strong> çŠç‘šç´… â†’ é‡‘é»ƒ</li>
                        <li><strong>æµ·æ´‹:</strong> é’ç¶  â†’ å¤©è—</li>
                        <li><strong>æ£®æ—:</strong> è–„è·ç¶  â†’ ç¶ è‰²</li>
                        <li><strong>æ—¥å‡º:</strong> ç²‰ç´« â†’ æ©™è‰²</li>
                        <li><strong>æ¥µå…‰:</strong> ç´«è‰² â†’ å¤©è—</li>
                        <li><strong>å½©è™¹:</strong> å¤šè‰²æ¼¸è®Š</li>
                    </ul>
                </div>
                
                <div style="flex: 1;">
                    <h4>âœ¨ åŠŸèƒ½ç‰¹é»</h4>
                    <ul>
                        <li>ä¸€éµé¸æ“‡é¡è‰²ï¼Œç„¡éœ€æ‰‹å‹•è¼¸å…¥</li>
                        <li>è¦–è¦ºåŒ–é¡è‰²é è¦½</li>
                        <li>æ¼¸è®Šè‰²è‡ªå‹•æ‡‰ç”¨</li>
                        <li>éŸ¿æ‡‰å¼è¨­è¨ˆï¼Œæ”¯æŒç§»å‹•ç«¯</li>
                        <li>èˆ‡åŸæœ‰é¡è‰²é¸æ“‡å™¨å®Œç¾æ•´åˆ</li>
                    </ul>
                    
                    <h4>ğŸ“± éŸ¿æ‡‰å¼è¨­è¨ˆ</h4>
                    <ul>
                        <li>æ¡Œé¢ç«¯ï¼š8åˆ—é¡è‰²æŒ‰éˆ•ï¼Œ3åˆ—æ¼¸è®ŠæŒ‰éˆ•</li>
                        <li>ç§»å‹•ç«¯ï¼š6åˆ—é¡è‰²æŒ‰éˆ•ï¼Œ2åˆ—æ¼¸è®ŠæŒ‰éˆ•</li>
                        <li>è‡ªå‹•èª¿æ•´æŒ‰éˆ•å¤§å°å’Œé–“è·</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="js/drawingProcessor.js"></script>
    <script>
        let demoProcessor = null;
        let demoCanvas = null;
        let demoCtx = null;
        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            demoCanvas = document.getElementById('demoCanvas');
            demoCtx = demoCanvas.getContext('2d');
            
            // åˆå§‹åŒ–ç¹ªè£½è™•ç†å™¨
            demoProcessor = new DrawingProcessor(demoCanvas);
            
            // è¨­ç½®ç•«å¸ƒäº‹ä»¶
            demoCanvas.addEventListener('mousedown', startDrawing);
            demoCanvas.addEventListener('mousemove', draw);
            demoCanvas.addEventListener('mouseup', stopDrawing);
            demoCanvas.addEventListener('mouseout', stopDrawing);
            
            // åˆå§‹åŒ–é¡è‰²é¸æ“‡å™¨
            initColorControls();
            
            updateInfo();
        });

        // ç¹ªè£½åŠŸèƒ½
        function startDrawing(e) {
            isDrawing = true;
            const rect = demoCanvas.getBoundingClientRect();
            lastX = e.clientX - rect.left;
            lastY = e.clientY - rect.top;
        }

        function draw(e) {
            if (!isDrawing) return;
            
            const rect = demoCanvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            demoProcessor.ctx.beginPath();
            demoProcessor.ctx.moveTo(lastX, lastY);
            demoProcessor.ctx.lineTo(x, y);
            demoProcessor.ctx.stroke();
            
            lastX = x;
            lastY = y;
        }

        function stopDrawing() {
            isDrawing = false;
        }

        // åˆå§‹åŒ–é¡è‰²æ§åˆ¶
        function initColorControls() {
            // é¡è‰²é¸æ“‡å™¨
            const colorInput = document.getElementById('drawingColor');
            if (colorInput) {
                colorInput.addEventListener('change', (e) => {
                    demoProcessor.setColor(e.target.value);
                    updateColorButtonState(e.target.value);
                    updateInfo();
                });
            }

            // é è¨­é¡è‰²æŒ‰éˆ•
            const colorButtons = document.querySelectorAll('.color-btn');
            colorButtons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const color = btn.dataset.color;
                    demoProcessor.setColor(color);
                    if (colorInput) {
                        colorInput.value = color;
                    }
                    updateColorButtonState(color);
                    updateInfo();
                });
            });

            // æ¼¸è®Šè‰²æŒ‰éˆ•
            const gradientButtons = document.querySelectorAll('.gradient-btn');
            gradientButtons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const gradient = btn.dataset.gradient;
                    demoProcessor.setGradient(gradient);
                    updateGradientButtonState(gradient);
                    updateInfo();
                });
            });

            // ç•«ç­†å¤§å°
            const brushSizeInput = document.getElementById('brushSize');
            const brushSizeValue = document.getElementById('brushSizeValue');
            if (brushSizeInput && brushSizeValue) {
                brushSizeInput.addEventListener('input', (e) => {
                    const size = e.target.value;
                    brushSizeValue.textContent = size + 'px';
                    demoProcessor.setBrushSize(parseInt(size));
                    updateInfo();
                });
            }
        }

        // æ›´æ–°é¡è‰²æŒ‰éˆ•ç‹€æ…‹
        function updateColorButtonState(selectedColor) {
            const colorButtons = document.querySelectorAll('.color-btn');
            colorButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.color === selectedColor) {
                    btn.classList.add('active');
                }
            });
        }

        // æ›´æ–°æ¼¸è®Šè‰²æŒ‰éˆ•ç‹€æ…‹
        function updateGradientButtonState(selectedGradient) {
            const gradientButtons = document.querySelectorAll('.gradient-btn');
            gradientButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.gradient === selectedGradient) {
                    btn.classList.add('active');
                }
            });
        }

        // æ›´æ–°ä¿¡æ¯é¡¯ç¤º
        function updateInfo() {
            document.getElementById('currentColor').textContent = demoProcessor.brushColor;
            document.getElementById('currentGradient').textContent = demoProcessor.currentGradient || 'ç„¡';
            document.getElementById('currentSize').textContent = demoProcessor.brushSize + 'px';
        }
    </script>
</body>
</html> 