<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>顏色選擇功能演示</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .demo-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .demo-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .demo-header h1 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .demo-header p {
            color: #666;
            font-size: 16px;
        }
        
        .demo-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background: #f8f9fa;
        }
        
        .demo-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #333;
        }
        
        .demo-content {
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }
        
        .demo-canvas-container {
            flex: 1;
            text-align: center;
        }
        
        .demo-canvas {
            border: 2px solid #ccc;
            border-radius: 8px;
            background: white;
            max-width: 100%;
        }
        
        .demo-controls {
            flex: 1;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .demo-info {
            margin: 15px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .info-item {
            margin: 5px 0;
            display: flex;
            justify-content: space-between;
        }
        
        .info-label {
            font-weight: 600;
            color: #555;
        }
        
        .info-value {
            color: #333;
        }
        
        .demo-instructions {
            margin-top: 20px;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 6px;
            border-left: 4px solid #2196f3;
        }
        
        .demo-instructions h4 {
            margin: 0 0 10px 0;
            color: #1976d2;
        }
        
        .demo-instructions ul {
            margin: 0;
            padding-left: 20px;
        }
        
        .demo-instructions li {
            margin: 5px 0;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-header">
            <h1>🎨 顏色選擇功能演示</h1>
            <p>體驗新增的豐富顏色選擇功能，包括預設顏色和漸變色選擇</p>
        </div>
        
        <div class="demo-section">
            <div class="demo-title">繪製測試區域</div>
            <div class="demo-content">
                <div class="demo-canvas-container">
                    <canvas id="demoCanvas" class="demo-canvas" width="400" height="300"></canvas>
                    <p style="margin-top: 10px; color: #666; font-size: 14px;">
                        在畫布上繪製來測試顏色效果
                    </p>
                </div>
                
                <div class="demo-controls">
                    <div class="demo-info">
                        <div class="info-item">
                            <span class="info-label">當前顏色:</span>
                            <span class="info-value" id="currentColor">#ff0000</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">當前漸變:</span>
                            <span class="info-value" id="currentGradient">無</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">畫筆大小:</span>
                            <span class="info-value" id="currentSize">5px</span>
                        </div>
                    </div>
                    
                    <div class="tool-group">
                        <h3>顏色設置</h3>
                        <div class="color-controls">
                            <div class="color-picker">
                                <label>主色調:</label>
                                <input type="color" id="drawingColor" value="#ff0000">
                            </div>
                            
                            <!-- 预设颜色选择 -->
                            <div class="preset-colors">
                                <label>快速選擇:</label>
                                <div class="color-buttons">
                                    <button class="color-btn active" data-color="#ff0000" style="background-color: #ff0000;" title="紅色"></button>
                                    <button class="color-btn" data-color="#ff6b35" style="background-color: #ff6b35;" title="橙色"></button>
                                    <button class="color-btn" data-color="#ffd23f" style="background-color: #ffd23f;" title="黃色"></button>
                                    <button class="color-btn" data-color="#06ffa5" style="background-color: #06ffa5;" title="綠色"></button>
                                    <button class="color-btn" data-color="#00d4ff" style="background-color: #00d4ff;" title="藍色"></button>
                                    <button class="color-btn" data-color="#a855f7" style="background-color: #a855f7;" title="紫色"></button>
                                    <button class="color-btn" data-color="#ff69b4" style="background-color: #ff69b4;" title="粉色"></button>
                                    <button class="color-btn" data-color="#8b4513" style="background-color: #8b4513;" title="棕色"></button>
                                    <button class="color-btn" data-color="#ffffff" style="background-color: #ffffff; border: 1px solid #ccc;" title="白色"></button>
                                    <button class="color-btn" data-color="#000000" style="background-color: #000000;" title="黑色"></button>
                                    <button class="color-btn" data-color="#ff6b6b" style="background-color: #ff6b6b;" title="珊瑚紅"></button>
                                    <button class="color-btn" data-color="#4ecdc4" style="background-color: #4ecdc4;" title="青綠"></button>
                                    <button class="color-btn" data-color="#45b7d1" style="background-color: #45b7d1;" title="天藍"></button>
                                    <button class="color-btn" data-color="#96ceb4" style="background-color: #96ceb4;" title="薄荷綠"></button>
                                    <button class="color-btn" data-color="#feca57" style="background-color: #feca57;" title="金黃"></button>
                                    <button class="color-btn" data-color="#ff9ff3" style="background-color: #ff9ff3;" title="粉紫"></button>
                                </div>
                            </div>
                            
                            <!-- 渐变色选择 -->
                            <div class="gradient-colors">
                                <label>漸變色彩:</label>
                                <div class="gradient-buttons">
                                    <button class="gradient-btn" data-gradient="sunset" style="background: linear-gradient(45deg, #ff6b6b, #feca57);" title="日落"></button>
                                    <button class="gradient-btn" data-gradient="ocean" style="background: linear-gradient(45deg, #4ecdc4, #45b7d1);" title="海洋"></button>
                                    <button class="gradient-btn" data-gradient="forest" style="background: linear-gradient(45deg, #96ceb4, #06ffa5);" title="森林"></button>
                                    <button class="gradient-btn" data-gradient="sunrise" style="background: linear-gradient(45deg, #ff9ff3, #ff6b35);" title="日出"></button>
                                    <button class="gradient-btn" data-gradient="aurora" style="background: linear-gradient(45deg, #a855f7, #00d4ff);" title="極光"></button>
                                    <button class="gradient-btn" data-gradient="rainbow" style="background: linear-gradient(45deg, #ff0000, #ff8000, #ffff00, #00ff00, #0080ff, #8000ff);" title="彩虹"></button>
                                </div>
                            </div>
                            
                            <div class="size-control">
                                <label>畫筆大小: <span id="brushSizeValue">5px</span></label>
                                <input type="range" id="brushSize" min="1" max="50" value="5">
                            </div>
                        </div>
                    </div>
                    
                    <div class="demo-instructions">
                        <h4>使用說明</h4>
                        <ul>
                            <li>點擊預設顏色按鈕快速選擇顏色</li>
                            <li>點擊漸變色按鈕應用漸變效果</li>
                            <li>使用顏色選擇器精確選擇顏色</li>
                            <li>調整畫筆大小控制繪製效果</li>
                            <li>在畫布上繪製來測試顏色效果</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="demo-section">
            <div class="demo-title">功能特點</div>
            <div class="demo-content">
                <div style="flex: 1;">
                    <h4>🎨 預設顏色選擇 (16種)</h4>
                    <ul>
                        <li><strong>基本顏色:</strong> 紅、橙、黃、綠、藍、紫、粉、棕</li>
                        <li><strong>特殊顏色:</strong> 白、黑、珊瑚紅、青綠、天藍、薄荷綠、金黃、粉紫</li>
                    </ul>
                    
                    <h4>🌈 漸變色選擇 (6種)</h4>
                    <ul>
                        <li><strong>日落:</strong> 珊瑚紅 → 金黃</li>
                        <li><strong>海洋:</strong> 青綠 → 天藍</li>
                        <li><strong>森林:</strong> 薄荷綠 → 綠色</li>
                        <li><strong>日出:</strong> 粉紫 → 橙色</li>
                        <li><strong>極光:</strong> 紫色 → 天藍</li>
                        <li><strong>彩虹:</strong> 多色漸變</li>
                    </ul>
                </div>
                
                <div style="flex: 1;">
                    <h4>✨ 功能特點</h4>
                    <ul>
                        <li>一鍵選擇顏色，無需手動輸入</li>
                        <li>視覺化顏色預覽</li>
                        <li>漸變色自動應用</li>
                        <li>響應式設計，支持移動端</li>
                        <li>與原有顏色選擇器完美整合</li>
                    </ul>
                    
                    <h4>📱 響應式設計</h4>
                    <ul>
                        <li>桌面端：8列顏色按鈕，3列漸變按鈕</li>
                        <li>移動端：6列顏色按鈕，2列漸變按鈕</li>
                        <li>自動調整按鈕大小和間距</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="js/drawingProcessor.js"></script>
    <script>
        let demoProcessor = null;
        let demoCanvas = null;
        let demoCtx = null;
        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;

        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            demoCanvas = document.getElementById('demoCanvas');
            demoCtx = demoCanvas.getContext('2d');
            
            // 初始化繪製處理器
            demoProcessor = new DrawingProcessor(demoCanvas);
            
            // 設置畫布事件
            demoCanvas.addEventListener('mousedown', startDrawing);
            demoCanvas.addEventListener('mousemove', draw);
            demoCanvas.addEventListener('mouseup', stopDrawing);
            demoCanvas.addEventListener('mouseout', stopDrawing);
            
            // 初始化顏色選擇器
            initColorControls();
            
            updateInfo();
        });

        // 繪製功能
        function startDrawing(e) {
            isDrawing = true;
            const rect = demoCanvas.getBoundingClientRect();
            lastX = e.clientX - rect.left;
            lastY = e.clientY - rect.top;
        }

        function draw(e) {
            if (!isDrawing) return;
            
            const rect = demoCanvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            demoProcessor.ctx.beginPath();
            demoProcessor.ctx.moveTo(lastX, lastY);
            demoProcessor.ctx.lineTo(x, y);
            demoProcessor.ctx.stroke();
            
            lastX = x;
            lastY = y;
        }

        function stopDrawing() {
            isDrawing = false;
        }

        // 初始化顏色控制
        function initColorControls() {
            // 顏色選擇器
            const colorInput = document.getElementById('drawingColor');
            if (colorInput) {
                colorInput.addEventListener('change', (e) => {
                    demoProcessor.setColor(e.target.value);
                    updateColorButtonState(e.target.value);
                    updateInfo();
                });
            }

            // 預設顏色按鈕
            const colorButtons = document.querySelectorAll('.color-btn');
            colorButtons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const color = btn.dataset.color;
                    demoProcessor.setColor(color);
                    if (colorInput) {
                        colorInput.value = color;
                    }
                    updateColorButtonState(color);
                    updateInfo();
                });
            });

            // 漸變色按鈕
            const gradientButtons = document.querySelectorAll('.gradient-btn');
            gradientButtons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const gradient = btn.dataset.gradient;
                    demoProcessor.setGradient(gradient);
                    updateGradientButtonState(gradient);
                    updateInfo();
                });
            });

            // 畫筆大小
            const brushSizeInput = document.getElementById('brushSize');
            const brushSizeValue = document.getElementById('brushSizeValue');
            if (brushSizeInput && brushSizeValue) {
                brushSizeInput.addEventListener('input', (e) => {
                    const size = e.target.value;
                    brushSizeValue.textContent = size + 'px';
                    demoProcessor.setBrushSize(parseInt(size));
                    updateInfo();
                });
            }
        }

        // 更新顏色按鈕狀態
        function updateColorButtonState(selectedColor) {
            const colorButtons = document.querySelectorAll('.color-btn');
            colorButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.color === selectedColor) {
                    btn.classList.add('active');
                }
            });
        }

        // 更新漸變色按鈕狀態
        function updateGradientButtonState(selectedGradient) {
            const gradientButtons = document.querySelectorAll('.gradient-btn');
            gradientButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.gradient === selectedGradient) {
                    btn.classList.add('active');
                }
            });
        }

        // 更新信息顯示
        function updateInfo() {
            document.getElementById('currentColor').textContent = demoProcessor.brushColor;
            document.getElementById('currentGradient').textContent = demoProcessor.currentGradient || '無';
            document.getElementById('currentSize').textContent = demoProcessor.brushSize + 'px';
        }
    </script>
</body>
</html> 