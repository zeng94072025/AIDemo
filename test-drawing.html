<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>塗鴉標註功能測試</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #F2F2F7 0%, #E5E5EA 100%);
            min-height: 100vh;
        }
        
        .test-header {
            text-align: center;
            margin-bottom: 30px;
            background: var(--gradient-primary);
            color: white;
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-medium);
        }
        
        .test-header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .test-header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .test-section {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-light);
        }
        
        .test-section h2 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        
        .canvas-container {
            position: relative;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            margin: 20px 0;
            background: white;
        }
        
        #testCanvas {
            display: block;
            margin: 0 auto;
            cursor: crosshair;
            border-radius: var(--border-radius);
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .feature-card {
            background: var(--gradient-surface);
            border-radius: var(--border-radius-small);
            padding: 15px;
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }
        
        .feature-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }
        
        .feature-card h3 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            padding: 5px 0;
            border-bottom: 1px solid #eee;
        }
        
        .feature-list li:last-child {
            border-bottom: none;
        }
        
        .demo-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        
        .demo-btn {
            padding: 8px 16px;
            border: none;
            border-radius: var(--border-radius-small);
            background: var(--gradient-primary);
            color: white;
            cursor: pointer;
            font-size: 14px;
            transition: var(--transition);
        }
        
        .demo-btn:hover {
            transform: translateY(-1px);
            box-shadow: var(--shadow-light);
        }
        
        .status-bar {
            background: var(--gradient-surface);
            padding: 10px 20px;
            border-radius: var(--border-radius-small);
            margin-top: 20px;
            text-align: center;
            font-weight: 600;
            color: var(--text-primary);
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>🎨 塗鴉標註功能測試</h1>
            <p>體驗所有新增的互聯網熱門樣式和效果</p>
        </div>
        
        <div class="test-section">
            <h2>🖌️ 繪製畫布</h2>
            <p>在下方畫布上測試各種繪製工具和特效</p>
            <div class="canvas-container">
                <canvas id="testCanvas" width="800" height="600"></canvas>
            </div>
            
            <div class="demo-buttons">
                <button class="demo-btn" onclick="testBrush()">測試畫筆</button>
                <button class="demo-btn" onclick="testNeon()">測試霓虹</button>
                <button class="demo-btn" onclick="testSpray()">測試噴漆</button>
                <button class="demo-btn" onclick="testSparkle()">測試閃爍</button>
                <button class="demo-btn" onclick="testEffects()">測試特效</button>
                <button class="demo-btn" onclick="clearCanvas()">清空畫布</button>
            </div>
        </div>
        
        <div class="feature-grid">
            <div class="feature-card">
                <h3>🎨 繪製工具</h3>
                <ul class="feature-list">
                    <li>✨ 基礎畫筆 - 實線繪製</li>
                    <li>🧽 橡皮擦 - 清除內容</li>
                    <li>🎨 噴漆效果 - 顆粒狀噴灑</li>
                    <li>💫 霓虹效果 - 發光線條</li>
                    <li>⭐ 閃爍效果 - 星光點綴</li>
                    <li>📏 直線工具 - 精確直線</li>
                    <li>⬜ 矩形工具 - 方形繪製</li>
                    <li>⭕ 圓形工具 - 圓形繪製</li>
                    <li>📝 文字工具 - 添加文字</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h3>🎭 特效工具</h3>
                <ul class="feature-list">
                    <li>💖 愛心特效 - 浪漫愛心</li>
                    <li>⭐ 星星特效 - 閃亮星星</li>
                    <li>💥 爆炸特效 - 動感爆炸</li>
                    <li>😀 表情符號 - 豐富表情</li>
                    <li>💬 對話框 - 文字氣泡</li>
                    <li>📊 進度條 - 進度顯示</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h3>🎯 標註工具</h3>
                <ul class="feature-list">
                    <li>➡️ 箭頭標註 - 指向標記</li>
                    <li>✨ 霓虹箭頭 - 發光箭頭</li>
                    <li>🟡 高亮區域 - 重點標記</li>
                    <li>✅ 印章標註 - 確認標記</li>
                    <li>📏 測量工具 - 距離測量</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h3>🌈 畫筆樣式</h3>
                <ul class="feature-list">
                    <li>🔸 實線樣式 - 標準線條</li>
                    <li>🌈 漸變樣式 - 色彩過渡</li>
                    <li>🌈 彩虹樣式 - 七彩線條</li>
                    <li>✨ 發光樣式 - 光暈效果</li>
                    <li>🔸 虛點樣式 - 點狀線條</li>
                    <li>➖ 虛線樣式 - 斷續線條</li>
                </ul>
            </div>
        </div>
        
        <div class="status-bar" id="statusBar">
            準備就緒 - 點擊上方按鈕開始測試
        </div>
    </div>
    
    <script src="js/drawingProcessor.js"></script>
    <script>
        let drawingProcessor;
        let currentTool = 'brush';
        let currentStyle = 'solid';
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            const canvas = document.getElementById('testCanvas');
            drawingProcessor = new DrawingProcessor(canvas);
            
            // 設置初始工具
            drawingProcessor.setTool('brush');
            drawingProcessor.setBrushStyle('solid');
            
            updateStatus('塗鴉標註系統已初始化，可以開始繪製');
        });
        
        // 測試畫筆
        function testBrush() {
            if (!drawingProcessor) return;
            
            drawingProcessor.setTool('brush');
            drawingProcessor.setBrushStyle('solid');
            drawingProcessor.setColor('#ff0000');
            drawingProcessor.setBrushSize(5);
            
            updateStatus('已切換到畫筆工具 - 紅色實線，5px大小');
        }
        
        // 測試霓虹效果
        function testNeon() {
            if (!drawingProcessor) return;
            
            drawingProcessor.setTool('neon');
            drawingProcessor.setColor('#00ffff');
            drawingProcessor.setBrushSize(8);
            
            updateStatus('已切換到霓虹工具 - 青色發光效果');
        }
        
        // 測試噴漆效果
        function testSpray() {
            if (!drawingProcessor) return;
            
            drawingProcessor.setTool('spray');
            drawingProcessor.setColor('#ff6b6b');
            drawingProcessor.setBrushSize(15);
            
            updateStatus('已切換到噴漆工具 - 紅色顆粒效果');
        }
        
        // 測試閃爍效果
        function testSparkle() {
            if (!drawingProcessor) return;
            
            drawingProcessor.setTool('sparkle');
            drawingProcessor.setColor('#ffd700');
            drawingProcessor.setBrushSize(10);
            
            updateStatus('已切換到閃爍工具 - 金色星光效果');
        }
        
        // 測試特效
        function testEffects() {
            if (!drawingProcessor) return;
            
            const canvas = drawingProcessor.canvas;
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            
            // 繪製一系列特效
            drawingProcessor.drawHeart(centerX - 100, centerY - 50, 30);
            drawingProcessor.drawStar(centerX + 100, centerY - 50, 25);
            drawingProcessor.drawExplosion(centerX, centerY + 50, 40);
            drawingProcessor.drawEmoji(centerX - 150, centerY + 100);
            drawingProcessor.drawSpeechBubble(centerX + 150, centerY + 100, 'Wow!', 120, 80);
            drawingProcessor.drawProgressBar(centerX, centerY + 150, 0.8, 200, 30);
            
            updateStatus('已添加所有特效 - 愛心、星星、爆炸、表情、對話框、進度條');
        }
        
        // 清空畫布
        function clearCanvas() {
            if (!drawingProcessor) return;
            
            drawingProcessor.clear();
            updateStatus('畫布已清空');
        }
        
        // 更新狀態
        function updateStatus(message) {
            const statusBar = document.getElementById('statusBar');
            statusBar.textContent = message;
            statusBar.style.background = 'var(--gradient-primary)';
            statusBar.style.color = 'white';
            
            setTimeout(() => {
                statusBar.style.background = 'var(--gradient-surface)';
                statusBar.style.color = 'var(--text-primary)';
            }, 2000);
        }
        
        // 添加鍵盤快捷鍵
        document.addEventListener('keydown', function(e) {
            switch(e.key) {
                case '1':
                    testBrush();
                    break;
                case '2':
                    testNeon();
                    break;
                case '3':
                    testSpray();
                    break;
                case '4':
                    testSparkle();
                    break;
                case '5':
                    testEffects();
                    break;
                case 'c':
                case 'C':
                    clearCanvas();
                    break;
            }
        });
    </script>
</body>
</html> 